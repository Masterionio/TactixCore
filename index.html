<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TactixCore</title>
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="icon.png" type="image/png">
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      background: #1e1e1e;
      color: white;
    }
    header {
      text-align: center;
      padding: 1rem;
      background: #333;
    }
    nav {
      display: flex;
      justify-content: space-around;
      background: #222;
      border-top: 2px solid #444;
    }
    nav button {
      flex: 1;
      padding: 1rem;
      background: #222;
      border: none;
      color: white;
      font-size: 1rem;
    }
    nav button.active {
      background: #555;
    }
    section {
      display: none;
      padding: 1rem;
    }
    section.active {
      display: block;
    }
    textarea, select, input[type="range"] {
      width: 100%;
      margin-top: 1rem;
    }
    .timer-display {
      font-size: 2rem;
      margin: 1rem 0;
    }
    .warning {
      color: red;
      font-weight: bold;
    }
    #notesBox {
      background: black;
      color: white;
      height: 300px;
    }
    #reactionDot {
      width: 50px;
      height: 50px;
      background: white;
      position: absolute;
      border-radius: 15px;
      display: none;
    }
  </style>
</head>
<body>
  <header><h1>üéÆ TactixCore</h1></header>

  <nav>
    <button onclick="showTab('home')" class="active">Home</button>
    <button onclick="showTab('timers')">Timers</button>
    <button onclick="showTab('boost')">Boost</button>
    <button onclick="showTab('security')">Security</button>
    <button onclick="showTab('notes')">Notes</button>
    <button onclick="showTab('reaction')">Reaction</button>
  </nav>

  <section id="home" class="active">
    <h2>Welcome</h2>
    <p>Your offline gaming companion. Boost performance, clear cache, manage energy, enhance security, and sharpen your reflexes.</p>
  </section>

  <section id="timers">
    <h2>Game Timer</h2>
    <label for="timerRange">Set Timer (minutes): <span id="timerLabel">30</span> min</label>
    <input type="range" id="timerRange" min="1" max="720" value="30" />
    <div class="timer-display" id="timerDisplay">30:00</div>
    <button onclick="startTimer()">Start</button>
    <button onclick="resetTimer()">Reset</button>
    <audio id="beepSound" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg" preload="auto"></audio>
  </section>

  <section id="boost">
    <h2>Core Booster</h2>
    <label for="profileSelect">Performance Profile:</label>
    <select id="profileSelect" onchange="setProfile(this.value)">
      <option value="none">None (Default)</option>
      <option value="battery">Battery Saver</option>
      <option value="efficiency">High Efficiency</option>
      <option value="balanced">Balanced</option>
      <option value="high">High Performance</option>
      <option value="ultra">Ultra Performance</option>
      <option value="smart">Smart Boost</option>
    </select>
    <div id="ultraWarning" class="warning" style="display:none;">
      ‚ö†Ô∏è Warning: Ultra Boost will drain your battery very fast!
    </div>
    <button id="boostButton" style="display:none;" onclick="activateBoost()">Activate Boost</button>
    <p id="boostStatus"></p>
  </section>

  <section id="security">
    <h2>Security Enhancer</h2>
    <p>Status: <span id="securityStatus">All systems normal.</span></p>
    <button onclick="startScan()">üîç Quick Scan</button>
    <button onclick="quarantineFile()">üõ°Ô∏è Quarantine File</button>
    <div id="scanResult"></div>
  </section>

  <section id="notes">
    <h2>Strategy Notes</h2>
    <textarea id="notesBox" placeholder="Write your game notes here..."></textarea>
    <button onclick="saveNotes()">üíæ Save</button>
  </section>

  <section id="reaction">
    <h2>Reaction Test</h2>
    <p id="reactionMsg">Tap to start!</p>
    <button id="reactionBtn" onclick="startReactionTest()">Start</button>
    <div id="reactionDot"></div>
  </section>

  <script>
    // Tab Switching
    function showTab(id) {
      document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
      document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      event.target.classList.add('active');
    }

    // Timer Logic
    const range = document.getElementById('timerRange');
    const label = document.getElementById('timerLabel');
    const display = document.getElementById('timerDisplay');
    const beep = document.getElementById('beepSound');
    let timer, timeLeft = 1800;

    range.oninput = function () {
      label.textContent = this.value;
      timeLeft = this.value * 60;
      updateTimerDisplay();
    }

    function startTimer() {
      clearInterval(timer);
      timer = setInterval(() => {
        timeLeft--;
        updateTimerDisplay();
        if (timeLeft <= 0) {
          clearInterval(timer);
          beep.play();
        }
      }, 1000);
    }

    function resetTimer() {
      clearInterval(timer);
      timeLeft = range.value * 60;
      updateTimerDisplay();
    }

    function updateTimerDisplay() {
      const minutes = Math.floor(timeLeft / 60).toString().padStart(2, '0');
      const seconds = (timeLeft % 60).toString().padStart(2, '0');
      display.textContent = `${minutes}:${seconds}`;
    }

    // Notes
    const notesBox = document.getElementById('notesBox');
    function saveNotes() {
      localStorage.setItem('gameNotes', notesBox.value);
      alert('Notes saved!');
    }
    window.addEventListener('load', () => {
      notesBox.value = localStorage.getItem('gameNotes') || '';
    });

    // Reaction Test
    let reactionStart, reactionTimeout;
    const dot = document.getElementById('reactionDot');

    function startReactionTest() {
      dot.style.display = 'none';
      document.getElementById('reactionBtn').disabled = true;
      document.getElementById('reactionMsg').textContent = 'Wait for it...';
      reactionTimeout = setTimeout(() => {
        reactionStart = Date.now();
        moveDotRandomly();
        dot.style.display = 'block';
        dot.onclick = stopReactionTest;
      }, 2000 + Math.random() * 3000);
    }

    function stopReactionTest() {
      const reactionTime = Date.now() - reactionStart;
      document.getElementById('reactionMsg').textContent = `‚è±Ô∏è Reaction time: ${reactionTime} ms`;
      document.getElementById('reactionBtn').disabled = false;
      dot.style.display = 'none';
    }

    function moveDotRandomly() {
      const maxX = window.innerWidth - 60;
      const maxY = window.innerHeight - 60;
      dot.style.left = Math.random() * maxX + 'px';
      dot.style.top = Math.random() * maxY + 'px';
    }

    // Booster Logic
    function setProfile(profile) {
      document.getElementById('ultraWarning').style.display = (profile === 'ultra') ? 'block' : 'none';
      document.getElementById('boostButton').style.display = (profile === 'ultra') ? 'inline-block' : 'none';

      let message = '';
      switch(profile) {
        case 'battery':
          message = 'Battery Saver activated. Low power mode, reduced performance.';
          break;
        case 'efficiency':
          message = 'High Efficiency activated. Saves power, runs smoothly.';
          break;
        case 'balanced':
          message = 'Balanced mode activated. Lightweight with good performance.';
          break;
        case 'high':
          message = 'High Performance activated. Boosted graphics and FPS.';
          break;
        case 'ultra':
          message = 'Ready for Ultra Boost...';
          break;
        case 'smart':
          message = 'Smart Boost enabled. Optimizing dynamically...';
          smartBoost();
          break;
        default:
          message = 'Running on default system performance.';
      }
      document.getElementById('boostStatus').textContent = message;
    }

    function activateBoost() {
      alert("‚ö†Ô∏è Ultra Boost Active! Max FPS, aggressive cleanup, DLSS+ enhanced. Battery will drain fast!");
      document.getElementById('boostStatus').textContent = 'Ultra Boost activated. Hold tight!';
    }

    function smartBoost() {
      setInterval(() => {
        // Very basic demo: If user is clicking/tapping a lot = gaming?
        if (document.activeElement.tagName !== 'TEXTAREA') {
          document.getElementById('boostStatus').textContent = 'üéÆ Optimized for Gaming';
        }
      }, 5000);
    }

    // Security Enhancer
    function startScan() {
      const issues = [
        "Your Device is not updated to the latest version.",
        "Unusual network activity detected.",
        "Potential malware signature found.",
        "No major vulnerabilities found."
      ];
      const result = issues[Math.floor(Math.random() * issues.length)];
      document.getElementById('scanResult').innerHTML = `üîí Scan Complete: ${result}`;
      localStorage.setItem('lastScanResult', result);
    }

    function quarantineFile() {
      const filename = prompt("What file do you want to quarantine?");
      if (filename) {
        alert(`‚úÖ File "${filename}" quarantined successfully.`);
        localStorage.setItem('quarantine', filename);
      }
    }

    setInterval(() => {
      document.getElementById('securityStatus').textContent = localStorage.getItem('lastScanResult') || 'All systems normal.';
    }, 5000);

    // Service Worker
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js')
          .then((reg) => console.log('Service Worker registered:', reg.scope))
          .catch((err) => console.log('Service Worker failed:', err));
      });
    }
  </script>
</body>
</html>
