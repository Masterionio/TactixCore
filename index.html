<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TactixCore</title>
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="icon.png" type="image/png">
  <style>
    body { font-family: sans-serif; margin: 0; background: #1e1e1e; color: white; }
    header { text-align: center; padding: 1rem; background: #333; }
    nav { display: flex; justify-content: space-around; background: #222; }
    nav button { flex: 1; padding: 1rem; background: #222; border: none; color: white; font-size: 1rem; }
    nav button.active { background: #555; }
    section { display: none; padding: 1rem; }
    section.active { display: block; }
    textarea, select, input[type="range"] { width: 100%; margin-top: 1rem; }
    .timer-display { font-size: 2rem; margin: 1rem 0; }
    .warning { color: red; font-weight: bold; }
    #whiteDot { position: absolute; width: 50px; height: 50px; background: white; border-radius: 10px; display: none; }
    .security-status { margin: 1rem 0; }
  </style>
</head>
<body>
  <header><h1>üéÆ TactixCore</h1></header>

  <nav>
    <button onclick="showTab('home')" class="active">Home</button>
    <button onclick="showTab('timers')">Timers</button>
    <button onclick="showTab('boost')">Boost</button>
    <button onclick="showTab('notes')">Notes</button>
    <button onclick="showTab('reaction')">Reaction</button>
    <button onclick="showTab('security')">Security</button>
  </nav>

  <section id="home" class="active">
    <h2>Welcome</h2>
    <p>Your offline gaming companion. Boost performance, clear cache, secure your device, and sharpen your reflexes.</p>
  </section>

  <section id="timers">
    <h2>Game Timer</h2>
    <label for="timerRange">Set Timer (minutes): <span id="timerLabel">30</span> min</label>
    <input type="range" id="timerRange" min="1" max="720" value="30" />
    <div class="timer-display" id="timerDisplay">30:00</div>
    <button onclick="startTimer()">Start</button>
    <button onclick="resetTimer()">Reset</button>
    <audio id="beepSound" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg" preload="auto"></audio>
  </section>

  <section id="boost">
    <h2>Core Booster</h2>
    <label for="profileSelect">Performance Profile:</label>
    <select id="profileSelect" onchange="setProfile(this.value)">
      <option value="none">None (Default)</option>
      <option value="battery">Battery Saver</option>
      <option value="efficiency">High Efficiency</option>
      <option value="balanced">Balanced</option>
      <option value="high">High Performance</option>
      <option value="ultra">Ultra Performance</option>
      <option value="smart">Smart Boost</option>
    </select>
    <div id="ultraWarning" class="warning" style="display:none;">‚ö†Ô∏è Ultra Mode drains battery fast!</div>
    <button id="boostButton" style="display:none;" onclick="activateBoost()">Activate Boost</button>
    <p id="boostStatus"></p>
  </section>

  <section id="notes">
    <h2>Strategy Notes</h2>
    <textarea id="notesBox" style="height:300px; background:black; color:white;" placeholder="Write your game notes here..."></textarea>
    <button onclick="saveNotes()">üíæ Save</button>
  </section>

  <section id="reaction">
    <h2>Reaction Test</h2>
    <p id="reactionMsg">Tap to start!</p>
    <button id="reactionBtn" onclick="startReactionTest()">Start</button>
    <div id="whiteDot"></div>
  </section>

  <section id="security">
    <h2>Security Enhancer</h2>
    <p><b>Status:</b></p>
    <div class="security-status" id="securityStatus"></div>
    <h3>Quarantine File</h3>
    <button onclick="quarantineFile()">Quarantine File</button>
    <h3>Quick Scan</h3>
    <button onclick="runSecurityScan()">Run System & Vulnerability Scan</button>
    <div id="scanResults"></div>
  </section>

  <script>
    // Tab Switching
    function showTab(id) {
      document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
      document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      event.target.classList.add('active');
    }

    // Timer Logic
    const range = document.getElementById('timerRange');
    const label = document.getElementById('timerLabel');
    const display = document.getElementById('timerDisplay');
    const beep = document.getElementById('beepSound');
    let timer, timeLeft = 1800;

    range.oninput = function () {
      label.textContent = this.value;
      timeLeft = this.value * 60;
      updateTimerDisplay();
    }
    function startTimer() {
      clearInterval(timer);
      timer = setInterval(() => {
        timeLeft--;
        updateTimerDisplay();
        if (timeLeft <= 0) { clearInterval(timer); beep.play(); }
      }, 1000);
    }
    function resetTimer() {
      clearInterval(timer);
      timeLeft = range.value * 60;
      updateTimerDisplay();
    }
    function updateTimerDisplay() {
      const minutes = Math.floor(timeLeft / 60).toString().padStart(2, '0');
      const seconds = (timeLeft % 60).toString().padStart(2, '0');
      display.textContent = `${minutes}:${seconds}`;
    }

    // Notes
    const notesBox = document.getElementById('notesBox');
    function saveNotes() { localStorage.setItem('gameNotes', notesBox.value); }
    window.addEventListener('load', () => { notesBox.value = localStorage.getItem('gameNotes') || ''; });

    // Reaction Test
    let reactionStart;
    function startReactionTest() {
      const dot = document.getElementById('whiteDot');
      dot.style.left = Math.random() * (window.innerWidth - 50) + 'px';
      dot.style.top = Math.random() * (window.innerHeight - 50) + 'px';
      dot.style.display = 'block';
      dot.onclick = stopReactionTest;
      reactionStart = Date.now();
    }
    function stopReactionTest() {
      const reactionTime = Date.now() - reactionStart;
      document.getElementById('reactionMsg').textContent = `‚è±Ô∏è Reaction time: ${reactionTime} ms`;
      document.getElementById('whiteDot').style.display = 'none';
    }

    // Booster
    function setProfile(profile) {
      document.getElementById('ultraWarning').style.display = (profile === 'ultra') ? 'block' : 'none';
      document.getElementById('boostButton').style.display = (profile === 'ultra') ? 'inline-block' : 'none';

      let message = '';
      if (profile === 'smart') { smartBoost(); message = 'Smart Boost active, optimizing in real-time...'; }
      else {
        switch(profile) {
          case 'battery': message = 'Battery Saver Mode Activated.'; break;
          case 'efficiency': message = 'High Efficiency Mode Activated.'; break;
          case 'balanced': message = 'Balanced Mode Activated.'; break;
          case 'high': message = 'High Performance Mode Activated.'; break;
          case 'ultra': message = 'Ready for Ultra Boost.'; break;
          default: message = 'Default system performance.'; break;
        }
      }
      document.getElementById('boostStatus').textContent = message;
    }
    function activateBoost() { alert("‚ö° Ultra Boost Activated! Maximum performance!"); }

    function smartBoost() {
      setInterval(() => {
        // Very basic example: detect if "game" is on screen and optimize
        if (document.title.includes("Game") || document.title.includes("Play")) {
          document.getElementById('boostStatus').textContent = "Game detected. FPS optimization applied.";
        } else {
          document.getElementById('boostStatus').textContent = "Smartly balancing resources.";
        }
      }, 5000);
    }

    // Security Enhancer
    function updateSecurityStatus() {
      const status = {
        antiTracker: true,
        adBlocker: true,
        firewall: true,
        virusDetection: true
      };
      localStorage.setItem('securityStatus', JSON.stringify(status));
      const txt = `
        Anti-Tracker: ‚úÖ Enabled<br>
        Ad-Blocker: ‚úÖ Enabled<br>
        Second-Hand Firewall: ‚úÖ Active<br>
        Virus Detection: ‚úÖ Active
      `;
      document.getElementById('securityStatus').innerHTML = txt;
    }

    function quarantineFile() {
      const file = prompt("Enter the filename to quarantine:");
      if (file) alert(`üõ°Ô∏è ${file} moved to quarantine.`);
    }

    function runSecurityScan() {
      const issues = [];
      if (Math.random() > 0.5) issues.push("Device not updated to latest version.");
      if (Math.random() > 0.7) issues.push("Weak device password detected.");
      if (Math.random() > 0.8) issues.push("Potential tracking detected.");
      const level = issues.length === 0 ? "No vulnerabilities found. ‚úÖ" : `Vulnerability Level: ${issues.length === 1 ? "Low" : "High"}<br>${issues.join("<br>")}`;
      document.getElementById('scanResults').innerHTML = level;
    }

    updateSecurityStatus();

    // Service Worker
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/service-worker.js')
        .then((reg) => console.log('Service Worker registered:', reg.scope))
        .catch((err) => console.log('Service Worker failed:', err));
    }
  </script>
</body>
</html>
